{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport _axios from '@/axios/myaxios';\nconst options = {\n  data() {\n    return {\n      headerImage: \"\",\n      images: [],\n      planDetail: {},\n      pid: 0\n    };\n  },\n  methods: {\n    getPlanDetail() {\n      _axios.get(\"plan/detail/\" + this.pid).then(resp => {\n        this.planDetail = resp.data.data;\n        this.images = this.planDetail.images;\n        this.setImageHeight();\n        this.setHeaderImageHeight();\n        console.log(1);\n        this.f1();\n      });\n    },\n    setHeaderImageHeight() {\n      var img = new Image();\n      img.onload = () => {\n        var imgWidth = img.width;\n        var imgHeight = img.height;\n        var newHeight = imgHeight / imgWidth * 1920;\n        document.querySelector('.training-header > div').style.minHeight = newHeight + 'px';\n        // document.querySelector('training-header > div').style.paddingTop =  \n      };\n      img.src = this.planDetail.headerImage;\n    },\n    setImageHeight() {\n      this.images.forEach((imageUrl, index) => {\n        var img = new Image();\n        img.onload = () => {\n          var imgWidth = img.width;\n          var imgHeight = img.height;\n          var newHeight = imgHeight / imgWidth * 1920;\n\n          // 使用 querySelectorAll 获取所有 .contentImage > div 元素\n          const contentDivs = document.querySelectorAll('.contentImage > div');\n\n          // 为当前对应的 div 设置高度\n          if (contentDivs[index]) {\n            contentDivs[index].style.height = newHeight + 'px';\n          }\n        };\n        img.src = imageUrl.url;\n      });\n    },\n    f1() {\n      const scrollEle = document.querySelector('.app-main_appMain');\n      console.log(scrollEle.scrollTop);\n      scrollEle.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    }\n  },\n  mounted() {\n    this.pid = this.$route.params.pid;\n    this.getPlanDetail();\n  }\n};\nexport default options;","map":{"version":3,"names":["_axios","options","data","headerImage","images","planDetail","pid","methods","getPlanDetail","get","then","resp","setImageHeight","setHeaderImageHeight","console","log","f1","img","Image","onload","imgWidth","width","imgHeight","height","newHeight","document","querySelector","style","minHeight","src","forEach","imageUrl","index","contentDivs","querySelectorAll","url","scrollEle","scrollTop","scrollTo","top","behavior","mounted","$route","params"],"sources":["src/views/PlanView.vue"],"sourcesContent":["<template>\r\n    <div data-v-0e4b0658 data-v-00b9cfae class=\"app-main_appMain\" style=\"min-height: calc(-278px+100vh);\">\r\n        <div data-v-0e4b0658 class=\"training_index\">\r\n            <div data-v-0c0502ff class=\"training\">\r\n                <div data-v-0c0502ff class=\"training-header\">\r\n                    <div data-v-0c0502ff>\r\n                        <div data-v-0c0502ff :style=\"{ background: `url('${planDetail.headerImage}') center center / cover no-repeat` }\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div data-v-0c0502ff class=\"training-container\">\r\n                    <div data-v-0c0502ff class=\"training-buy\">\r\n                        <div data-v-0c0502ff class=\"buy-body card\">\r\n                            <div data-v-0c0502ff class=\"card-left\">\r\n                                <div data-v-0c0502ff class=\"card-left-name\">\r\n                                    <div data-v-0c0502ff class=\"card-left-name-txt\">{{planDetail.title}}</div>\r\n                                    <div data-v-0c0502ff data-v-390af96e class=\"xt-tag combine-task-list\"></div>\r\n                                </div>\r\n                                <div data-v-0c0502ff style=\"text-align: left;\" class=\"card-left-desc\">由{{ planDetail.school }}组织开设，授课教师为{{ planDetail.teachers }}老师</div>\r\n                                <div data-v-0c0502ff class=\"card-left-class\">\r\n                                    <el-dropdown trigger=\"click\">\r\n                                        <div data-v-0c0502ff class=\"el-dropdown-inner\">\r\n                                            <span data-v-0c0502ff class=\"class-name\">\r\n                                                2025年第1期（{{ planDetail.beginTime }} 开课）\r\n                                            </span>\r\n                                            <i class=\"el-icon-arrow-down el-icon--right\"></i> \r\n                                        </div>\r\n                                        <el-dropdown-menu data-v-0c0502ff class=\"el-dropdown-menu--medium\" slot=\"dropdown\">\r\n                                            <el-dropdown-item data-v-0c0502ff>\r\n                                                <div data-v-0c0502ff style=\"color: rgb(23, 105, 254);line-height: 40px;\">\r\n                                                    2025年第1期（{{ planDetail.beginTime }} 开课）\r\n                                                </div>\r\n                                            </el-dropdown-item>\r\n                                        </el-dropdown-menu>\r\n                                    </el-dropdown>\r\n                                </div>\r\n                            </div>\r\n                            <div data-v-0c0502ff class=\"card-right\">\r\n                                <div data-v-0c0502ff class=\"price-wrap\">\r\n                                    <span data-v-0c0502ff class=\"rmb\">¥</span>\r\n                                    <span data-v-0c0502ff class=\"current\">\r\n                                        <span class=\"iconfont\" style=\"font-size: 34px;\">2333</span>\r\n                                    </span>\r\n                                </div>\r\n                                <div data-v-0c0502ff class=\"btn-join\">加入学习</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div v-for=\"item in planDetail.images\" :key=\"item.url\" data-v-0c0502ff class=\"contentImage\">\r\n                        <div data-v-0c0502ff >\r\n                            <div data-v-0c0502ff :style=\"{background: `url('${item.url}') center top / 1920px no-repeat`}\"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport _axios from '@/axios/myaxios';\r\n\r\nconst options={\r\n    data() {\r\n        return {\r\n            headerImage:\"\",\r\n            images:[],\r\n            planDetail:{},\r\n            pid:0,\r\n        }\r\n    },\r\n    methods: {\r\n\r\n        getPlanDetail(){\r\n            _axios.get(\"plan/detail/\"+this.pid).then(resp => {\r\n                this.planDetail = resp.data.data\r\n                this.images = this.planDetail.images\r\n                this.setImageHeight()\r\n                this.setHeaderImageHeight()\r\n                console.log(1)\r\n                this.f1()\r\n            })\r\n        },\r\n\r\n        setHeaderImageHeight(){\r\n            var img = new Image();\r\n            img.onload = () => {\r\n                var imgWidth = img.width;\r\n                var imgHeight = img.height;\r\n                var newHeight = (imgHeight / imgWidth) * 1920;\r\n                document.querySelector('.training-header > div').style.minHeight = newHeight + 'px'\r\n                // document.querySelector('training-header > div').style.paddingTop =  \r\n            };\r\n            img.src = this.planDetail.headerImage\r\n        },\r\n\r\n\r\n        setImageHeight() {\r\n            this.images.forEach((imageUrl, index) => {\r\n                var img = new Image();\r\n                img.onload = () => {\r\n                    var imgWidth = img.width;\r\n                    var imgHeight = img.height;\r\n                    var newHeight = (imgHeight / imgWidth) * 1920;\r\n\r\n                    // 使用 querySelectorAll 获取所有 .contentImage > div 元素\r\n                    const contentDivs = document.querySelectorAll('.contentImage > div');\r\n                    \r\n                    // 为当前对应的 div 设置高度\r\n                    if (contentDivs[index]) {\r\n                        contentDivs[index].style.height = newHeight + 'px';\r\n                    }\r\n            };\r\n            img.src = imageUrl.url;\r\n            });\r\n            \r\n        },\r\n        f1(){\r\n            const scrollEle = document.querySelector('.app-main_appMain')\r\n            console.log(scrollEle.scrollTop);\r\n            scrollEle.scrollTo({\r\n                top: 0,\r\n                behavior: 'smooth'\r\n            });\r\n        }\r\n        \r\n    },\r\n    mounted() {\r\n        this.pid = this.$route.params.pid\r\n        this.getPlanDetail()\r\n        \r\n\r\n    },\r\n    \r\n}\r\nexport default options\r\n</script>\r\n<style>\r\n\r\n.el-dropdown-menu--medium {\r\n    padding: 6px 0 !important;\r\n}\r\n\r\n</style>\r\n<style scoped>\r\n.training[data-v-0c0502ff] {\r\n    background: #fff;\r\n}\r\n.training-header[data-v-0c0502ff] {\r\n    min-width: 1160px;\r\n    position: relative;\r\n}\r\n.training-header div[data-v-0c0502ff] {\r\n    height: 0;\r\n    overflow: hidden;\r\n    position: relative;\r\n}\r\n.training-header div div[data-v-0c0502ff] {\r\n    display: block;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    width: 100%;\r\n}\r\n\r\n.training-container[data-v-0c0502ff] {\r\n    margin: 0 auto;\r\n    min-height: 600px;\r\n    min-width: 1160px;\r\n    overflow: hidden;\r\n}\r\n\r\n.training-buy[data-v-0c0502ff] {\r\n    margin-top: -92px;\r\n    overflow: hidden;\r\n    padding-top: 12px;\r\n    position: absolute;\r\n    width: 100%;\r\n    z-index: 7;\r\n}\r\n\r\n.training-buy .buy-body[data-v-0c0502ff] {\r\n    background: #fff;\r\n    border-radius: 12px;\r\n    -webkit-box-shadow: 0 0 12px #bbb;\r\n    box-shadow: 0 0 12px #bbb;\r\n    height: 160px;\r\n    height: inherit;\r\n    margin: 0 auto;\r\n    width: 1160px;\r\n}\r\n\r\n.card[data-v-0c0502ff] {\r\n    display: flex;\r\n    padding: 28px 40px;\r\n    flex-direction: row;\r\n    align-items: flex-end;\r\n}\r\n\r\n.card-left[data-v-0c0502ff] {\r\n    flex: 1;\r\n    width: 0;\r\n}\r\n\r\n.card-left-name[data-v-0c0502ff] {\r\n    display: flex;\r\n    flex-direction: row;\r\n    line-height: 34px;\r\n    align-items: flex-start;\r\n}\r\n\r\n.card-left-name-txt[data-v-0c0502ff] {\r\n    color: #2b2e35;\r\n    font-size: 24px;\r\n    font-weight: 600;\r\n    line-height: 34px;\r\n    max-width: 648px;\r\n}\r\n\r\n.card-left-desc[data-v-0c0502ff] {\r\n    color: #656a72;\r\n    font-size: 16px;\r\n    font-weight: 400;\r\n    line-height: 22px;\r\n    margin-top: 8px;\r\n}\r\n\r\n.card-left-class .el-dropdown-inner[data-v-0c0502ff], .card-left-class[data-v-0c0502ff] {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n}\r\n\r\n.card-left-class[data-v-0c0502ff] {\r\n    margin-top: 24px;\r\n}\r\n.card-left-class .el-dropdown-inner[data-v-0c0502ff] {\r\n    width: 360px;\r\n    background: #eef0f5;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    height: 46px;\r\n    justify-content: center;\r\n}\r\n\r\n.card-left-class .el-dropdown-inner[data-v-0c0502ff], .card-left-class[data-v-0c0502ff] {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n}\r\n\r\n.card-left-class .el-dropdown-inner .class-name[data-v-0c0502ff] {\r\n    color: #656a72;\r\n    font-size: 16px;\r\n    font-weight: 400;\r\n    line-height: 22px;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    width: 271px;\r\n}\r\n.el-icon--right {\r\n    margin-left: 5px;\r\n}\r\n[class*=\" el-icon-\"], [class^=el-icon-] {\r\n    font-family: element-icons !important;\r\n    speak: none;\r\n    display: inline-block;\r\n    font-style: normal;\r\n    font-variant: normal;\r\n    font-weight: 400;\r\n    line-height: 1;\r\n    text-transform: none;\r\n    vertical-align: baseline;\r\n}\r\n\r\n.card-right[data-v-0c0502ff] {\r\n    margin-left: 10px;\r\n    width: 224px;\r\n}\r\n\r\n.card-right .price-wrap[data-v-0c0502ff] {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n}\r\n.card-right .price-wrap .rmb[data-v-0c0502ff] {\r\n    align-self: flex-end;\r\n    color: #fa4949;\r\n    font-size: 24px;\r\n    font-weight: 600;\r\n    line-height: 38px;\r\n}\r\n.card-right .price-wrap .current[data-v-0c0502ff] {\r\n    align-self: flex-end;\r\n    color: #fa4949;\r\n    font-size: 40px;\r\n    font-weight: 600;\r\n    line-height: 44px;\r\n    margin-left: 4px;\r\n}\r\n\r\n.iconfont {\r\n    font-family: iconfont !important;\r\n    font-size: 16px;\r\n    font-style: normal;\r\n}\r\n.card-right .btn-join[data-v-0c0502ff] {\r\n    margin-left: 0;\r\n    margin-top: 16px;\r\n}\r\n.training .btn-join[data-v-0c0502ff] {\r\n    background: #fa4949;\r\n    border-radius: 6px;\r\n    color: #fff;\r\n    cursor: pointer;\r\n    display: inline-flex;\r\n    height: 48px;\r\n    line-height: 48px;\r\n    text-align: center;\r\n    width: 224px;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-left: 12px;\r\n}\r\n\r\n.training .contentImage[data-v-0c0502ff] {\r\n    min-width: 1160px;\r\n    position: relative;\r\n}\r\n.training .contentImage div[data-v-0c0502ff] {\r\n    height: 0;\r\n    overflow: hidden;\r\n    position: relative;\r\n}\r\n\r\n.training .contentImage div div[data-v-0c0502ff] {\r\n    display: block;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    width: 100%;\r\n}\r\n\r\n</style>"],"mappings":";;AA2DA,OAAAA,MAAA;AAEA,MAAAC,OAAA;EACAC,KAAA;IACA;MACAC,WAAA;MACAC,MAAA;MACAC,UAAA;MACAC,GAAA;IACA;EACA;EACAC,OAAA;IAEAC,cAAA;MACAR,MAAA,CAAAS,GAAA,uBAAAH,GAAA,EAAAI,IAAA,CAAAC,IAAA;QACA,KAAAN,UAAA,GAAAM,IAAA,CAAAT,IAAA,CAAAA,IAAA;QACA,KAAAE,MAAA,QAAAC,UAAA,CAAAD,MAAA;QACA,KAAAQ,cAAA;QACA,KAAAC,oBAAA;QACAC,OAAA,CAAAC,GAAA;QACA,KAAAC,EAAA;MACA;IACA;IAEAH,qBAAA;MACA,IAAAI,GAAA,OAAAC,KAAA;MACAD,GAAA,CAAAE,MAAA;QACA,IAAAC,QAAA,GAAAH,GAAA,CAAAI,KAAA;QACA,IAAAC,SAAA,GAAAL,GAAA,CAAAM,MAAA;QACA,IAAAC,SAAA,GAAAF,SAAA,GAAAF,QAAA;QACAK,QAAA,CAAAC,aAAA,2BAAAC,KAAA,CAAAC,SAAA,GAAAJ,SAAA;QACA;MACA;MACAP,GAAA,CAAAY,GAAA,QAAAxB,UAAA,CAAAF,WAAA;IACA;IAGAS,eAAA;MACA,KAAAR,MAAA,CAAA0B,OAAA,EAAAC,QAAA,EAAAC,KAAA;QACA,IAAAf,GAAA,OAAAC,KAAA;QACAD,GAAA,CAAAE,MAAA;UACA,IAAAC,QAAA,GAAAH,GAAA,CAAAI,KAAA;UACA,IAAAC,SAAA,GAAAL,GAAA,CAAAM,MAAA;UACA,IAAAC,SAAA,GAAAF,SAAA,GAAAF,QAAA;;UAEA;UACA,MAAAa,WAAA,GAAAR,QAAA,CAAAS,gBAAA;;UAEA;UACA,IAAAD,WAAA,CAAAD,KAAA;YACAC,WAAA,CAAAD,KAAA,EAAAL,KAAA,CAAAJ,MAAA,GAAAC,SAAA;UACA;QACA;QACAP,GAAA,CAAAY,GAAA,GAAAE,QAAA,CAAAI,GAAA;MACA;IAEA;IACAnB,GAAA;MACA,MAAAoB,SAAA,GAAAX,QAAA,CAAAC,aAAA;MACAZ,OAAA,CAAAC,GAAA,CAAAqB,SAAA,CAAAC,SAAA;MACAD,SAAA,CAAAE,QAAA;QACAC,GAAA;QACAC,QAAA;MACA;IACA;EAEA;EACAC,QAAA;IACA,KAAAnC,GAAA,QAAAoC,MAAA,CAAAC,MAAA,CAAArC,GAAA;IACA,KAAAE,aAAA;EAGA;AAEA;AACA,eAAAP,OAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}