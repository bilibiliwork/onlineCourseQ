{"ast":null,"code":"import _axios from '@/axios/myaxios';\nconst options = {\n  data() {\n    return {\n      user: {},\n      showMessage: false,\n      educational: \"\",\n      educationals: [{\n        value: 1,\n        label: '博士'\n      }, {\n        value: 2,\n        label: '研究生'\n      }, {\n        value: 3,\n        label: '本科'\n      }, {\n        value: 4,\n        label: '专科'\n      }, {\n        value: 5,\n        label: '高中'\n      }, {\n        value: 6,\n        label: '初中'\n      }, {\n        value: 7,\n        label: '小学'\n      }, {\n        value: 8,\n        label: '肄业'\n      }, {\n        value: 9,\n        label: '其他'\n      }],\n      sexs: [{\n        value: '男',\n        label: '男'\n      }, {\n        value: '女',\n        label: '女'\n      }],\n      sex: \"\"\n    };\n  },\n  methods: {\n    getUser() {\n      _axios.get(\"/user/getCurrentUser\").then(resp => {\n        this.user = resp.data.data;\n        this.$store.commit('updateUser', resp.data.data);\n      });\n    },\n    saveUserMessage() {\n      _axios.post(\"/user/update\", this.user).then(resp => {\n        if (resp.data.code === 1) {\n          this.$message({\n            message: '用户信息更改成功',\n            type: 'success',\n            duration: 0\n          });\n          this.getUser();\n          this.showMessage = false;\n        }\n      });\n    }\n  },\n  mounted() {\n    this.getUser();\n  }\n};\nexport default options;","map":{"version":3,"names":["_axios","options","data","user","showMessage","educational","educationals","value","label","sexs","sex","methods","getUser","get","then","resp","$store","commit","saveUserMessage","post","code","$message","message","type","duration","mounted"],"sources":["src/views/MineView.vue"],"sourcesContent":["<template>\r\n    <div data-v-c3d629dc data-v-3be7c4a6 class=\"personalDataWrap\">\r\n        <div data-v-3be7c4a6>\r\n            <div data-v-3be7c4a6 class=\"personalInfo\">\r\n                <div data-v-3be7c4a6 class=\"personalTip\">\r\n                    <span data-v-3be7c4a6>个人信息</span>\r\n                    <span data-v-3be7c4a6 class=\"editBtnCli\" v-if=\"!showMessage\" @click=\"showMessage = true\">\r\n                        <i data-v-3be7c4a6 class=\"iconfont\" style=\"font-size: 16px;\">&#xe601;</i>\r\n                        编辑\r\n                    </span>\r\n                    <span v-if=\"showMessage\" data-v-3be7c4a6 @click=\"saveUserMessage\" class=\"saveBtnCli\">保存</span>\r\n                </div>\r\n                <div data-v-3be7c4a6 class=\"personalBox\">\r\n                    <div data-v-3be7c4a6 class=\"boxLeft\">\r\n                        <ul data-v-3be7c4a6 class=\"infoList\">\r\n                            <li data-v-3be7c4a6 class=\"infoLi nameInp\">\r\n                                <span data-v-3be7c4a6 class=\"span1\">姓名</span>\r\n                                &nbsp;\r\n                                <span v-show=\"!showMessage\" data-v-3be7c4a6 class=\"span2\">{{ user.name }}</span>\r\n                                <span v-show=\"user.name == null && !showMessage\" data-v-3be7c4a6 class=\"span2\" >无</span>\r\n                                &nbsp;\r\n                                <el-input v-if=\"showMessage\" size=\"medium\" v-model=\"user.name\"\r\n                                    placeholder=\"请输入内容\"></el-input>\r\n                            </li>\r\n                            <li data-v-3be7c4a6 class=\"infoLi\">\r\n                                <span data-v-3be7c4a6 class=\"span1\">学历</span>\r\n                                &nbsp;\r\n                                <span v-show=\"!showMessage\" data-v-3be7c4a6 class=\"span2\">{{ user.educational }}</span>\r\n                                <span v-show=\"user.educational == null && !showMessage\" data-v-3be7c4a6 class=\"span2\" >无</span>\r\n                                &nbsp;\r\n                                <el-select v-if=\"showMessage\" v-model=\"user.educational\" placeholder=\"请选择\">\r\n                                    <el-option v-for=\"item in educationals\" :key=\"item.value\" :label=\"item.label\"\r\n                                        :value=\"item.value\">\r\n                                    </el-option>\r\n                                </el-select>\r\n                            </li>\r\n                            <li data-v-3be7c4a6 class=\"infoLi\">\r\n                                <span data-v-3be7c4a6 class=\"span1\">职位</span>\r\n                                &nbsp;\r\n                                <span v-show=\"!showMessage\" data-v-3be7c4a6 class=\"span2\">{{ user.job }}</span>\r\n                                <span data-v-3be7c4a6 class=\"span2\" v-show=\"user.job == null && !showMessage\">无</span>\r\n                                &nbsp;\r\n                                <el-input v-if=\"showMessage\" size=\"medium\" v-model=\"user.job\"\r\n                                    placeholder=\"请输入内容\"></el-input>\r\n                            </li>\r\n                            <li data-v-3be7c4a6 class=\"infoLi birthdayInp\">\r\n                                <span data-v-3be7c4a6 class=\"span1\">生日</span>\r\n                                &nbsp;\r\n                                <span v-show=\"!showMessage\" data-v-3be7c4a6 class=\"span2\">{{ user.birthday }}</span>\r\n                                <span data-v-3be7c4a6 class=\"span2\" v-show=\"user.birthday == null && !showMessage\">无</span>\r\n                                &nbsp;\r\n                                <el-date-picker v-if=\"showMessage\" v-model=\"user.birthday\" type=\"date\" placeholder=\"选择日期\">\r\n                                </el-date-picker>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div data-v-3be7c4a6 class=\"boxRight\">\r\n                        <ul data-v-3be7c4a6 class=\"infoList\">\r\n                            <li data-v-3be7c4a6 class=\"infoLi\">\r\n                                <span data-v-3be7c4a6 class=\"span1\">性别</span>\r\n                                &nbsp;\r\n                                <span v-show=\"!showMessage\" data-v-3be7c4a6 class=\"span2\">{{ user.sex }}</span>\r\n                                <span data-v-3be7c4a6 class=\"span2\" v-show=\"user.sex == null && !showMessage\">无</span>\r\n                                &nbsp;\r\n                                <el-select v-if=\"showMessage\" v-model=\"user.sex\" placeholder=\"请选择\">\r\n                                    <el-option v-for=\"item in sexs\" :key=\"item.value\" :label=\"item.label\"\r\n                                        :value=\"item.value\">\r\n                                    </el-option>\r\n                                </el-select>\r\n                            </li>\r\n                            <li data-v-3be7c4a6 class=\"infoLi\">\r\n                                <span data-v-3be7c4a6 class=\"span1\">学校/公司</span>\r\n                                &nbsp;\r\n                                <span v-show=\"!showMessage\" data-v-3be7c4a6 class=\"span2\">{{ user.schoolCompany }}</span>\r\n                                <span data-v-3be7c4a6 class=\"span2\" v-show=\"user.schoolCompany == null && !showMessage\">无</span>\r\n                                &nbsp;\r\n                                <el-input v-if=\"showMessage\" size=\"medium\" v-model=\"user.schoolCompany\"\r\n                                    placeholder=\"请输入内容\"></el-input>\r\n                            </li>\r\n                            <li data-v-3be7c4a6 class=\"infoLi\">\r\n                                <span data-v-3be7c4a6 class=\"span1\">工作年限</span>\r\n                                &nbsp;\r\n                                <span v-show=\"!showMessage\" data-v-3be7c4a6 class=\"span2\">{{ user.workExperience }}</span>\r\n                                <span data-v-3be7c4a6 class=\"span2\" v-show=\"user.workExperience == null && !showMessage\">无</span>\r\n                                &nbsp;\r\n                                <el-input v-if=\"showMessage\" size=\"medium\" v-model=\"user.workExperience\"\r\n                                    placeholder=\"请输入内容\"></el-input>\r\n                            </li>\r\n                            <li data-v-3be7c4a6 class=\"infoLi\">\r\n                                <span data-v-3be7c4a6 class=\"span1\">地区</span>\r\n                                &nbsp;\r\n                                <span v-show=\"!showMessage\" data-v-3be7c4a6 class=\"span2\">{{ user.address }}</span>\r\n                                <span data-v-3be7c4a6 class=\"span2\" v-show=\"user.address == null && !showMessage\">无</span>\r\n                                &nbsp;\r\n                                <el-input v-if=\"showMessage\" size=\"medium\" v-model=\"user.address\"\r\n                                    placeholder=\"请输入内容\"></el-input>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n<script>\r\nimport _axios from '@/axios/myaxios';\r\n\r\nconst options = {\r\n    data () {\r\n        return {\r\n            user: {},\r\n            showMessage:false,\r\n            educational: \"\",\r\n            educationals: [\r\n                {\r\n                    value: 1,\r\n                    label: '博士'\r\n                },\r\n                {\r\n                    value: 2,\r\n                    label: '研究生'\r\n                },\r\n                {\r\n                    value: 3,\r\n                    label: '本科'\r\n                },\r\n                {\r\n                    value: 4,\r\n                    label: '专科'\r\n                },\r\n                {\r\n                    value: 5,\r\n                    label: '高中'\r\n                },\r\n                {\r\n                    value: 6,\r\n                    label: '初中'\r\n                },\r\n                {\r\n                    value: 7,\r\n                    label: '小学'\r\n                },\r\n                {\r\n                    value: 8,\r\n                    label: '肄业'\r\n                },\r\n                {\r\n                    value: 9,\r\n                    label: '其他'\r\n                }\r\n            ],\r\n            sexs:[\r\n                {\r\n                    value: '男',\r\n                    label: '男'\r\n                },\r\n                {\r\n                    value: '女',\r\n                    label: '女'\r\n                }\r\n            ],\r\n            sex:\"\"\r\n        }\r\n    },\r\n    methods: {\r\n        getUser(){\r\n            _axios.get(\"/user/getCurrentUser\").then(resp => {\r\n                this.user = resp.data.data\r\n                this.$store.commit('updateUser',resp.data.data);\r\n            }\r\n            )\r\n        },\r\n        saveUserMessage(){\r\n            _axios.post(\"/user/update\",this.user).then(resp => {\r\n                if(resp.data.code === 1){\r\n                    this.$message({\r\n                        message: '用户信息更改成功',\r\n                        type: 'success',\r\n                        duration:0\r\n                    });\r\n                    this.getUser()\r\n                    this.showMessage = false\r\n                }\r\n            })\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getUser()\r\n    },\r\n}\r\nexport default options;\r\n</script>\r\n<style>\r\n\r\n.el-message--success{\r\n    background-color: #81D8Cf !important;\r\n    color: #F8F5D6 !important;\r\n}\r\n.el-message--success .el-message__content{\r\n    color: #F8F5D6 !important;\r\n}\r\n.el-message .el-icon-success{\r\n    color: #F8F5D6 !important;\r\n}\r\n\r\n.personalDataWrap .personalInfo .personalBox .boxLeft .infoList .infoLi .el-input .el-cascader__label, .personalDataWrap .personalInfo .personalBox .boxLeft .infoList .infoLi .el-input .el-input__inner, .personalDataWrap .personalInfo .personalBox .boxRight .infoList .infoLi .el-input .el-cascader__label, .personalDataWrap .personalInfo .personalBox .boxRight .infoList .infoLi .el-input .el-input__inner {\r\n    color: #333 !important;\r\n}\r\n\r\n.personalDataWrap .personalInfo .personalBox .boxLeft .infoList .infoLi .el-input input, .personalDataWrap .personalInfo .personalBox .boxRight .infoList .infoLi .el-input input {\r\n    height: 30px;\r\n    line-height: 16px;\r\n    padding-bottom: 7px;\r\n    padding-top: 7px;\r\n}\r\n</style>\r\n\r\n<style scoped>\r\n\r\n.personalDataWrap {\r\n    padding: 34px 34px 0;\r\n    position: relative;\r\n    width: 890px;\r\n}\r\n.personalDataWrap .personalInfo .personalTip {\r\n    height: 80px;\r\n    line-height: 80px;\r\n}\r\n.personalDataWrap .personalInfo .personalTip .editBtnCli {\r\n    color: #4182fa;\r\n    cursor: pointer;\r\n    float: right;\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n}\r\nbutton, i, input, select, textarea {\r\n    font-family: -apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif;\r\n    line-height: 1em;\r\n}\r\n.personalDataWrap .personalInfo .personalBox {\r\n    background: #fcfcfc;\r\n    border-radius: 4px;\r\n    height: 204px;\r\n    padding-top: 20px;\r\n    width: 822px;\r\n}\r\n.personalDataWrap .personalInfo .personalBox .boxLeft, .personalDataWrap .personalInfo .personalBox .boxRight {\r\n    float: left;\r\n    width: 400px;\r\n}\r\nol, ul {\r\n    margin-bottom: 10px;\r\n    margin-top: 0;\r\n}\r\nbody, dd, dl, fieldset, h1, h2, h3, h4, h5, h6, input, legend, ol, option, p, td, textarea, ul {\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n.personalDataWrap .personalInfo .personalBox .boxLeft .infoList .infoLi, .personalDataWrap .personalInfo .personalBox .boxRight .infoList .infoLi {\r\n    height: 40px;\r\n    line-height: 40px;\r\n}\r\n.personalDataWrap .personalInfo .personalBox .boxLeft .infoList .infoLi .span1, .personalDataWrap .personalInfo .personalBox .boxRight .infoList .infoLi .span1 {\r\n    color: #999;\r\n    float: left;\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    margin-left: 50px;\r\n}\r\n.personalDataWrap .personalInfo .personalBox .boxLeft .infoList .infoLi .span2, .personalDataWrap .personalInfo .personalBox .boxRight .infoList .infoLi .span2 {\r\n    color: #333;\r\n    float: left;\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    margin-left: 10px;\r\n}\r\n\r\n.personalDataWrap .personalInfo .personalTip span:first-of-type {\r\n    color: #333;\r\n    float: left;\r\n    font-size: 20px;\r\n    font-weight: 500;\r\n}\r\nul {\r\n    list-style-type: none;\r\n}\r\n.personalDataWrap .personalInfo .personalBox .boxLeft .infoList .infoLi .span2, .personalDataWrap .personalInfo .personalBox .boxRight .infoList .infoLi .span2 {\r\n    color: #333;\r\n    float: left;\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    margin-left: 10px;\r\n}\r\n\r\n.personalDataWrap .personalInfo .personalTip .saveBtnCli {\r\n    background: #4182fa;\r\n    border-radius: 4px;\r\n    color: #fff;\r\n    cursor: pointer;\r\n    float: right;\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    height: 30px;\r\n    line-height: 30px;\r\n    margin-top: 25px;\r\n    text-align: center;\r\n    width: 85px;\r\n}\r\n\r\n.personalDataWrap .personalInfo .personalBox .boxLeft .infoList .infoLi .el-input, .personalDataWrap .personalInfo .personalBox .boxRight .infoList .infoLi .el-input {\r\n    height: 36px;\r\n    width: 178px;\r\n}\r\n\r\n\r\n</style>"],"mappings":"AA0GA,OAAAA,MAAA;AAEA,MAAAC,OAAA;EACAC,KAAA;IACA;MACAC,IAAA;MACAC,WAAA;MACAC,WAAA;MACAC,YAAA,GACA;QACAC,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,EACA;MACAC,IAAA,GACA;QACAF,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,EACA;MACAE,GAAA;IACA;EACA;EACAC,OAAA;IACAC,QAAA;MACAZ,MAAA,CAAAa,GAAA,yBAAAC,IAAA,CAAAC,IAAA;QACA,KAAAZ,IAAA,GAAAY,IAAA,CAAAb,IAAA,CAAAA,IAAA;QACA,KAAAc,MAAA,CAAAC,MAAA,eAAAF,IAAA,CAAAb,IAAA,CAAAA,IAAA;MACA,CACA;IACA;IACAgB,gBAAA;MACAlB,MAAA,CAAAmB,IAAA,sBAAAhB,IAAA,EAAAW,IAAA,CAAAC,IAAA;QACA,IAAAA,IAAA,CAAAb,IAAA,CAAAkB,IAAA;UACA,KAAAC,QAAA;YACAC,OAAA;YACAC,IAAA;YACAC,QAAA;UACA;UACA,KAAAZ,OAAA;UACA,KAAAR,WAAA;QACA;MACA;IACA;EACA;EACAqB,QAAA;IACA,KAAAb,OAAA;EACA;AACA;AACA,eAAAX,OAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}