{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport _axios from '@/axios/myaxios';\nconst options = {\n  filters: {\n    courseTypeFilter(value) {\n      const map = {\n        1: '热门课程',\n        2: '研究生课',\n        3: '职业教育',\n        4: '计算机',\n        5: '经济管理',\n        6: '文史哲',\n        7: '医药卫生',\n        8: '外语',\n        9: '工学',\n        10: '理学',\n        11: '艺术设计',\n        15: \"营销\",\n        16: \"财务\",\n        17: \"农林园艺\"\n      };\n      return map[value] || '未知';\n    }\n  },\n  watch: {\n    searchName(oldValue, newValue) {\n      this.getCourseList();\n    },\n    courseType(oldValue, newValue) {\n      this.getCourseList();\n    },\n    schoolName(oldValue, newValue) {\n      this.getCourseList();\n    }\n  },\n  data() {\n    return {\n      count: 0,\n      courseList: [],\n      searchName: \"\",\n      value: '',\n      schoolName: \"\",\n      courseType: '',\n      currentPage: 1,\n      schoolList: [\"清华大学\", \"北京大学\"],\n      schoolValue: \"\",\n      courseTypeList: [{\n        value: 2,\n        label: '研究生课'\n      }, {\n        value: 3,\n        label: '职业教育'\n      }, {\n        value: 4,\n        label: '计算机'\n      }, {\n        value: 5,\n        label: '经济管理'\n      }, {\n        value: 6,\n        label: '文史哲'\n      }, {\n        value: 7,\n        label: '医药卫生'\n      }, {\n        value: 8,\n        label: '外语'\n      }, {\n        value: 9,\n        label: '工学'\n      }, {\n        value: 10,\n        label: '理学'\n      }, {\n        value: 11,\n        label: '艺术设计'\n      }, {\n        value: 15,\n        label: '营销'\n      }, {\n        value: 16,\n        label: '财务'\n      }, {\n        value: 17,\n        label: '农林园艺'\n      }],\n      pageSize: 10\n    };\n  },\n  methods: {\n    CurrentChange(val) {\n      this.currentPage = val;\n      this.getCourseList();\n    },\n    handleSizeChange(val) {\n      this.pageSize = val;\n      this.getCourseList();\n    },\n    removeCourse(id) {\n      _axios.delete(\"/course/remove/\" + id).then(resp => {\n        if (resp.data.code) this.courseList = this.courseList.filters(item => item.id == id);\n      });\n    },\n    getCourseList() {\n      const param = new URLSearchParams();\n      param.append(\"pageSize\", this.pageSize);\n      param.append(\"courseStatus\", 0);\n      param.append(\"courseType\", this.courseType);\n      param.append(\"courseSchool\", this.schoolName);\n      param.append(\"currentPage\", this.currentPage);\n      param.append(\"searchName\", this.searchName);\n      _axios.get(\"/course/all?\" + param).then(resp => {\n        this.courseList = resp.data.data.records;\n        this.count = resp.data.data.count;\n      });\n    }\n  },\n  mounted() {\n    this.getCourseList();\n  }\n};\nexport default options;","map":{"version":3,"names":["_axios","options","filters","courseTypeFilter","value","map","watch","searchName","oldValue","newValue","getCourseList","courseType","schoolName","data","count","courseList","currentPage","schoolList","schoolValue","courseTypeList","label","pageSize","methods","CurrentChange","val","handleSizeChange","removeCourse","id","delete","then","resp","code","item","param","URLSearchParams","append","get","records","mounted"],"sources":["src/views/CourseListView.vue"],"sourcesContent":["<template>\r\n    <div data-v-38e7a12e class=\"workspace\">\r\n        <div data-v-38e7a12e class=\"banner\">\r\n            <span data-v-38e7a12e class=\"primary-title\">课程管理</span>\r\n            <router-link to=\"/teacherRoot/addCourse/0\">\r\n                <el-button data-v-38e7a12e type=\"primary\" round class=\"btn-add\" size=\"medium\">\r\n                    <i class=\"iconfont\" style=\"padding: 10px 3px 0 0\">&#xe608;</i>添加课程\r\n                </el-button>\r\n            </router-link>\r\n        </div>\r\n        <div data-v-38e7a12e class=\"searcher\">\r\n            <el-input data-v-38e7a12e placeholder=\"课程名称\" suffix-icon=\"el-icon-search\" v-model=\"searchName\">\r\n            </el-input>\r\n            <el-select clearable v-model=\"courseType\" placeholder=\"请选择课程类型\">\r\n                <el-option v-for=\"item in courseTypeList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                </el-option>\r\n            </el-select>\r\n            <el-select clearable v-model=\"schoolName\" placeholder=\"请选择学校\">\r\n                <el-option v-for=\"item in schoolList\" :key=\"item\" :label=\"item\" :value=\"item\">\r\n                </el-option>\r\n            </el-select>\r\n        </div>\r\n        <el-table data-v-38e7a12e class=\"dataList\" :data=\"courseList\" border style=\"width: 100%\">\r\n            <el-table-column align=\"center\" prop=\"title\" label=\"课程名称\" width=\"220\">\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" prop=\"createTime\" label=\"创建时间\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" prop=\"status\" label=\"类型\" width=\"140\">\r\n                <template slot-scope=\"scope\">\r\n                    {{ scope.row.status | courseTypeFilter}}\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" prop=\"schoolName\" label=\"学校\" width=\"140\">\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" label=\"操作\">\r\n                <template slot-scope=\"scope\">\r\n                    <div class=\"cell\">\r\n                        <router-link :to=\"'/teacherRoot/addCourse/' + scope.row.id\">\r\n                            <el-button type=\"text\" size=\"mini\">编辑&nbsp;</el-button>\r\n                        </router-link>\r\n                        <el-button type=\"text\" size=\"mini\" @click=\"removeCourse(scope.row.id)\">删除</el-button>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <div data-v-38e7a12e class=\"dataList-pagination\">\r\n            <div data-v-665e07ad data-v-38e7a12e class=\"pagination-container\">\r\n                <el-pagination @current-change=\"CurrentChange\" @size-change=\"handleSizeChange\" background\r\n                    layout=\"total,sizes, prev, pager, next\" :page-sizes=\"[10, 20, 30, 40]\" :total=\"count\">\r\n                </el-pagination>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport _axios from '@/axios/myaxios';\r\n\r\nconst options = {\r\n    filters: {\r\n        courseTypeFilter(value) {\r\n            const map = { 1: '热门课程', 2: '研究生课' ,\r\n                3: '职业教育',4: '计算机',\r\n                5: '经济管理',6:'文史哲',\r\n                7: '医药卫生',8: '外语',\r\n                9: '工学',10:'理学',11:'艺术设计',\r\n                15:\"营销\",16:\"财务\",17:\"农林园艺\"\r\n            };\r\n            return map[value] || '未知';\r\n        }\r\n    },\r\n    watch:{\r\n        searchName(oldValue, newValue) {\r\n            this.getCourseList()\r\n        },\r\n        courseType(oldValue, newValue) {\r\n            this.getCourseList()\r\n        },\r\n        schoolName(oldValue, newValue) {\r\n            this.getCourseList()\r\n        },\r\n    },\r\n    data () {\r\n        return {\r\n            count:0,\r\n            courseList:[],\r\n            searchName: \"\",\r\n            value: '',\r\n            schoolName:\"\",\r\n            courseType: '',\r\n            currentPage:1,\r\n            schoolList:[\r\n                \"清华大学\",\"北京大学\"\r\n            ],\r\n            schoolValue:\"\",\r\n            courseTypeList: [\r\n                {\r\n                    value: 2,\r\n                    label: '研究生课'\r\n                },{\r\n                    value: 3,\r\n                    label: '职业教育'\r\n                },\r\n                {\r\n                    value: 4,\r\n                    label: '计算机'\r\n                },\r\n                {\r\n                    value: 5,\r\n                    label: '经济管理'\r\n                },\r\n                {\r\n                    value: 6,\r\n                    label: '文史哲'\r\n                },\r\n                {\r\n                    value: 7,\r\n                    label: '医药卫生'\r\n                },\r\n                {\r\n                    value: 8,\r\n                    label: '外语'\r\n                },\r\n                {\r\n                    value: 9,\r\n                    label: '工学'\r\n                },{\r\n                    value: 10,\r\n                    label: '理学'\r\n                },{\r\n                    value: 11,\r\n                    label: '艺术设计'\r\n                },\r\n                {\r\n                    value: 15,\r\n                    label: '营销'\r\n                },\r\n                {\r\n                    value: 16,\r\n                    label: '财务'\r\n                },{\r\n                    value: 17,\r\n                    label: '农林园艺'\r\n                },\r\n            ],\r\n            pageSize:10\r\n        }\r\n    },\r\n    methods: {\r\n        CurrentChange(val){\r\n            this.currentPage = val\r\n            this.getCourseList()\r\n        },\r\n        handleSizeChange(val){\r\n            this.pageSize = val\r\n            this.getCourseList()\r\n        },\r\n        removeCourse(id){\r\n            _axios.delete(\"/course/remove/\"+id).then(resp => {\r\n                if(resp.data.code)\r\n                this.courseList = this.courseList.filters(item => item.id  == id)\r\n            })\r\n        },\r\n        getCourseList(){\r\n            const param = new URLSearchParams\r\n            param.append(\"pageSize\",this.pageSize)\r\n            param.append(\"courseStatus\", 0)\r\n            param.append(\"courseType\", this.courseType)\r\n            param.append(\"courseSchool\", this.schoolName)\r\n            param.append(\"currentPage\", this.currentPage)\r\n            param.append(\"searchName\", this.searchName)\r\n            _axios.get(\"/course/all?\"+param).then(resp => {\r\n                this.courseList = resp.data.data.records\r\n                this.count = resp.data.data.count\r\n            })\r\n        }\r\n        \r\n    },\r\n    mounted() {\r\n        this.getCourseList()\r\n    },\r\n}\r\nexport default options;\r\n</script>\r\n<style>\r\n.workspace .el-table th.el-table__cell{\r\n    background-color: #cdfbf8;\r\n}\r\n\r\n</style>\r\n<style scoped>\r\n\r\n.dataList-pagination[data-v-38e7a12e] {\r\n    text-align: center;\r\n    width: 100%;\r\n}\r\n.pagination-container[data-v-665e07ad] {\r\n    background: #fff;\r\n    padding: 32px 16px;\r\n}\r\n\r\n\r\n.dataList[data-v-38e7a12e] {\r\n    margin-top: 16px;\r\n}\r\n\r\n.searcher div[data-v-2871ab58] {\r\n    width: 218px;\r\n    margin-right: 10px;\r\n}\r\n\r\n.workspace {\r\n    margin-top: 16px;\r\n    width: 1200px;\r\n    min-height: 550px;\r\n    padding: 32px;\r\n    background-color: #e7f2eea4;\r\n}\r\n.workspace .primary-title {\r\n    height: 33px;\r\n    font-size: 24px;\r\n    font-family: PingFangSC-Medium, PingFang SC;\r\n    font-weight: 500;\r\n    color: #003153;\r\n    line-height: 33px;\r\n}\r\n.workspace .banner .btn-add[data-v-38e7a12e] {\r\n    float: right;\r\n}\r\n.searcher[data-v-38e7a12e] {\r\n    margin-top: 16px;\r\n}\r\n\r\n</style>"],"mappings":";;;AAuDA,OAAAA,MAAA;AAEA,MAAAC,OAAA;EACAC,OAAA;IACAC,iBAAAC,KAAA;MACA,MAAAC,GAAA;QAAA;QAAA;QACA;QAAA;QACA;QAAA;QACA;QAAA;QACA;QAAA;QAAA;QACA;QAAA;QAAA;MACA;MACA,OAAAA,GAAA,CAAAD,KAAA;IACA;EACA;EACAE,KAAA;IACAC,WAAAC,QAAA,EAAAC,QAAA;MACA,KAAAC,aAAA;IACA;IACAC,WAAAH,QAAA,EAAAC,QAAA;MACA,KAAAC,aAAA;IACA;IACAE,WAAAJ,QAAA,EAAAC,QAAA;MACA,KAAAC,aAAA;IACA;EACA;EACAG,KAAA;IACA;MACAC,KAAA;MACAC,UAAA;MACAR,UAAA;MACAH,KAAA;MACAQ,UAAA;MACAD,UAAA;MACAK,WAAA;MACAC,UAAA,GACA,eACA;MACAC,WAAA;MACAC,cAAA,GACA;QACAf,KAAA;QACAgB,KAAA;MACA;QACAhB,KAAA;QACAgB,KAAA;MACA,GACA;QACAhB,KAAA;QACAgB,KAAA;MACA,GACA;QACAhB,KAAA;QACAgB,KAAA;MACA,GACA;QACAhB,KAAA;QACAgB,KAAA;MACA,GACA;QACAhB,KAAA;QACAgB,KAAA;MACA,GACA;QACAhB,KAAA;QACAgB,KAAA;MACA,GACA;QACAhB,KAAA;QACAgB,KAAA;MACA;QACAhB,KAAA;QACAgB,KAAA;MACA;QACAhB,KAAA;QACAgB,KAAA;MACA,GACA;QACAhB,KAAA;QACAgB,KAAA;MACA,GACA;QACAhB,KAAA;QACAgB,KAAA;MACA;QACAhB,KAAA;QACAgB,KAAA;MACA,EACA;MACAC,QAAA;IACA;EACA;EACAC,OAAA;IACAC,cAAAC,GAAA;MACA,KAAAR,WAAA,GAAAQ,GAAA;MACA,KAAAd,aAAA;IACA;IACAe,iBAAAD,GAAA;MACA,KAAAH,QAAA,GAAAG,GAAA;MACA,KAAAd,aAAA;IACA;IACAgB,aAAAC,EAAA;MACA3B,MAAA,CAAA4B,MAAA,qBAAAD,EAAA,EAAAE,IAAA,CAAAC,IAAA;QACA,IAAAA,IAAA,CAAAjB,IAAA,CAAAkB,IAAA,EACA,KAAAhB,UAAA,QAAAA,UAAA,CAAAb,OAAA,CAAA8B,IAAA,IAAAA,IAAA,CAAAL,EAAA,IAAAA,EAAA;MACA;IACA;IACAjB,cAAA;MACA,MAAAuB,KAAA,OAAAC,eAAA;MACAD,KAAA,CAAAE,MAAA,kBAAAd,QAAA;MACAY,KAAA,CAAAE,MAAA;MACAF,KAAA,CAAAE,MAAA,oBAAAxB,UAAA;MACAsB,KAAA,CAAAE,MAAA,sBAAAvB,UAAA;MACAqB,KAAA,CAAAE,MAAA,qBAAAnB,WAAA;MACAiB,KAAA,CAAAE,MAAA,oBAAA5B,UAAA;MACAP,MAAA,CAAAoC,GAAA,kBAAAH,KAAA,EAAAJ,IAAA,CAAAC,IAAA;QACA,KAAAf,UAAA,GAAAe,IAAA,CAAAjB,IAAA,CAAAA,IAAA,CAAAwB,OAAA;QACA,KAAAvB,KAAA,GAAAgB,IAAA,CAAAjB,IAAA,CAAAA,IAAA,CAAAC,KAAA;MACA;IACA;EAEA;EACAwB,QAAA;IACA,KAAA5B,aAAA;EACA;AACA;AACA,eAAAT,OAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}