{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nconst baseUrl = '/api';\nconst _axios = axios.create({\n  baseURL: baseUrl,\n  withCredentials: true\n});\n_axios.interceptors.request.use(function (config) {\n  config.headers = {\n    token: JSON.parse(sessionStorage.getItem(\"jwt\"))\n  };\n  return config; //状态码为2xx走这里\n}, function (error) {\n  return Promise.reject(error); //非2xx走这里\n});\n_axios.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  if (error.response && error.response.status === 401) {\n    /* this.$message({\r\n        message: '您还未登陆',\r\n        type: 'warning'\r\n      }); */\n    // console.log('用户未登录, 直接跳转至登录页面');\n    Router.push(\"/home\");\n  }\n  return Promise.reject(error);\n});\nexport default _axios;","map":{"version":3,"names":["axios","baseUrl","_axios","create","baseURL","withCredentials","interceptors","request","use","config","headers","token","JSON","parse","sessionStorage","getItem","error","Promise","reject","response","status","Router","push"],"sources":["C:/Users/90858/Documents/Vscode File/Online Course Web/onlinecourseweb/src/axios/myaxios.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\n\r\nconst baseUrl = '/api';\r\n            \r\nconst _axios = axios.create(\r\n    { \r\n        baseURL: baseUrl,\r\n        withCredentials:true \r\n    }\r\n)\r\n\r\n\r\n_axios.interceptors.request.use(\r\n    function(config){\r\n        config.headers = {\r\n            token: JSON.parse(sessionStorage.getItem(\"jwt\")) \r\n        }\r\n        return config;     //状态码为2xx走这里\r\n    },\r\n    function(error){\r\n        return Promise.reject(error);    //非2xx走这里\r\n    }\r\n)\r\n\r\n_axios.interceptors.response.use(\r\n    function(response) {\r\n        return response;\r\n    },\r\n    function(error) {\r\n        if (error.response && error.response.status === 401) {\r\n            /* this.$message({\r\n                message: '您还未登陆',\r\n                type: 'warning'\r\n              }); */\r\n            // console.log('用户未登录, 直接跳转至登录页面');\r\n            Router.push(\"/home\");\r\n        }\r\n        return Promise.reject(error);\r\n    }\r\n)\r\n\r\n\r\n\r\nexport default _axios;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,MAAMC,OAAO,GAAG,MAAM;AAEtB,MAAMC,MAAM,GAAGF,KAAK,CAACG,MAAM,CACvB;EACIC,OAAO,EAAEH,OAAO;EAChBI,eAAe,EAAC;AACpB,CACJ,CAAC;AAGDH,MAAM,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC3B,UAASC,MAAM,EAAC;EACZA,MAAM,CAACC,OAAO,GAAG;IACbC,KAAK,EAAEC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,KAAK,CAAC;EACnD,CAAC;EACD,OAAON,MAAM,CAAC,CAAK;AACvB,CAAC,EACD,UAASO,KAAK,EAAC;EACX,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CAAC,CAAI;AACrC,CACJ,CAAC;AAEDd,MAAM,CAACI,YAAY,CAACa,QAAQ,CAACX,GAAG,CAC5B,UAASW,QAAQ,EAAE;EACf,OAAOA,QAAQ;AACnB,CAAC,EACD,UAASH,KAAK,EAAE;EACZ,IAAIA,KAAK,CAACG,QAAQ,IAAIH,KAAK,CAACG,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;IACjD;AACZ;AACA;AACA;IACY;IACAC,MAAM,CAACC,IAAI,CAAC,OAAO,CAAC;EACxB;EACA,OAAOL,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CACJ,CAAC;AAID,eAAed,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}